---
name: "Image: golang"
permissions:
  actions: write # so 'cancel-workflow-action' can function

on:
  workflow_dispatch:
  push:
    branches:
      - main
    paths:
      - "golang/**"
      - ".github/workflows/golang.yml"
      - ".github/workflows/build-image-base.yml"
  pull_request:
    branches:
      - main
    paths:
      - "golang/**"
      - ".github/workflows/golang.yml"
      - ".github/workflows/build-image-base.yml"

jobs:
  workflows:
    uses: ./.github/workflows/build-image-base.yml
    with:
      image: golang
      platforms: linux/amd64,linux/arm64
    secrets: inherit
